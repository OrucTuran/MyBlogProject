@{
    ViewData["Title"] = "Index";
    Layout = "~/Views/Shared/_DashboardLayout.cshtml";
}


<div class="container-fluid">
    <!-- row -->
    <div class="row page-titles mx-0">
        <div class="col-sm-6 p-md-0">
            <div class="welcome-text">
                <h4>Merhaba, Hoş Geldiniz! @ViewBag.FullName</h4>
                <p class="mb-0">Blog ve Profil Yönetim Panelinize Hoş Geldiniz!</p>
            </div>
        </div>
    </div>
    <!-- row -->
    <div class="row">
        <div class="col-lg-12">
            <div class="profile">
                <div class="profile-head">
                    <div class="photo-content">
                        <div class="cover-photo"></div>
                        <div class="profile-photo">
                            <img src="~/focus-2/images/profile/profile.png" class="img-fluid rounded-circle" alt="">
                        </div>
                    </div>
                    <div class="profile-info">
                        <div class="row justify-content-center">
                            <div class="col-xl-8">
                                <div class="row">
                                    <div class="col-xl-4 col-sm-4 border-right-1 prf-col">
                                        <div class="profile-name">
                                            <h4 class="text-primary">@ViewBag.FullName</h4>
                                            <p>Blog Yazarı</p>
                                        </div>
                                    </div>
                                    <div class="col-xl-4 col-sm-4 border-right-1 prf-col">
                                        <div class="profile-email">
                                            <h4 class="text-muted">@ViewBag.email</h4>
                                            <p>E-Posta</p>
                                        </div>
                                    </div>
                                    <div class="col-xl-4 col-sm-4 prf-col">
                                        <div class="profile-call">
                                            <h4 class="text-muted">0555 444 33 22</h4>
                                            <p>Telefon Numarası</p>
                                        </div>
                                    </div> 
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div class="row">
        <div class="col-lg-4">
            <div class="card">
                <div class="card-body">

                    @* @await Component.InvokeAsync("_DefaultDashboardProfileBlogStatisticsByLoggedInAuthor") *@
                    <div class="profile-statistics">
                        <div class="text-center mt-4 border-bottom-1 pb-3">
                            <div class="row">
                                <div class="col">
                                    <h3 class="m-b-0">@ViewBag.TotalArticles</h3><span>Blog Yazısı</span>
                                </div>
                                <div class="col">
                                    <h3 class="m-b-0">@ViewBag.TotalComments</h3><span>Toplam Yorum</span>
                                </div>
                                <div class="col">
                                    <h3 class="m-b-0">@ViewBag.TotalViews</h3><span>Toplam Görüntülenme</span>
                                </div>
                            </div>
                        </div>
                    </div>


                    <!--ViewComponent BlogOfTheDayByLoggedInAuthor -->

                    @await Component.InvokeAsync("_DefaultDashboardProfileBlogOfTheDayByLoggedInAuthor")

                    <!--ViewComponent RandomSixBlogImagesByLoggenInAuthor -->

                    <!--ViewComponent LatestBlogsByLoggenInAuthor (3 blog) -->

                    @* _DefaultDashboardProfileSidebarBlogComponents *@


                </div>
            </div>
        </div>
        <div class="col-lg-8">
            <div class="card">
                <div class="card-body">
                    <div class="profile-tab">
                        <div class="custom-tab-1">
                            <ul class="nav nav-tabs">
                                <li class="nav-item">
                                    <a href="#my-posts" data-toggle="tab" class="nav-link active show">Bloglarım</a>
                                </li>
                                <li class="nav-item">
                                    <a href="#about-me" data-toggle="tab" class="nav-link">Hakkımda</a>
                                </li>
                                <li class="nav-item">
                                    <a href="#profile-settings" data-toggle="tab" class="nav-link">Profil Bilgileri Ayarları</a>
                                </li>
                            </ul>
                            <div class="tab-content">

                                <div id="my-posts" class="tab-pane fade active show">
                                    <div class="my-post-content pt-3">
                                        <!-- Post Ekleme Alanı -->
                                        <a class="post-title" href="javascript:void()">
                                            <h4>Yeni Blog Yazısı</h4>
                                        </a>
                                        <div class="post-input">
                                            <input type="text" id="post-title" class="form-control mb-2" placeholder="Blog Başlığı">
                                            <textarea id="post-content" cols="30" rows="3" class="form-control bg-transparent mb-2" placeholder="Blog İçeriğinizi yazınız..."></textarea>
                                            <input type="file" id="post-image" class="form-control-file mb-2">
                                            <br />
                                            <button class="btn btn-primary" id="add-post">Post Ekle</button>
                                        </div>

                                        <!-- Postlar Listesi -->
                                        <div id="post-list">
                                            <!-- Örnek Blog Postu -->
                                            <div class="profile-uoloaded-post border-bottom-1 pb-5 mt-4">
                                                <img src="~/focus-2/images/profile/8.jpg" alt="" class="img-fluid mb-3">
                                                <a class="post-title" href="javascript:void()">
                                                    <h4>Örnek Blog Başlığı</h4>
                                                </a>
                                                <p>Bu, blog sisteminin nasıl çalıştığını göstermek için eklenen örnek bir blog içeriğidir.</p>
                                                <button class="btn btn-primary mr-3">
                                                    <span class="mr-3"><i class="fa fa-heart"></i></span>Yayınla
                                                </button>
                                                <button class="btn btn-secondary">
                                                    <span class="mr-3"><i class="fa fa-reply"></i></span>Sil
                                                </button>
                                            </div>
                                        </div>

                                        <div class="text-center mt-3">
                                            <button class="btn btn-primary">Daha Fazla Yükle</button>
                                        </div>
                                    </div>
                                </div>

                                <div id="about-me" class="tab-pane fade">
                                    <div class="profile-about-me">
                                        <div class="pt-4 border-bottom-1 pb-4">
                                            <h4 class="text-primary">Hakkımda</h4>
                                            <p>
                                                @ViewBag.description
                                            </p>
                                        </div>
                                    </div>

                                    <!--ViewComponent CategoriesByLoggenInAuthor (3 blog) -->
                                    <div class="profile-skills pt-2 border-bottom-1 pb-2">
                                        <h4 class="text-primary mb-4">Kategorilerim</h4>
                                        <a href="javascript:void()" class="btn btn-outline-dark btn-rounded pl-4 my-3 my-sm-0 pr-4 mr-3 m-b-10">Admin</a>
                                        <a href="javascript:void()" class="btn btn-outline-dark btn-rounded pl-4 my-3 my-sm-0 pr-4 mr-3 m-b-10">Dashboard</a>
                                        <a href="javascript:void()" class="btn btn-outline-dark btn-rounded pl-4 my-3 my-sm-0 pr-4 mr-3 m-b-10">Photoshop</a>
                                        <a href="javascript:void()" class="btn btn-outline-dark btn-rounded pl-4 my-3 my-sm-0 pr-4 mr-3 m-b-10">Bootstrap</a>
                                        <a href="javascript:void()" class="btn btn-outline-dark btn-rounded pl-4 my-3 my-sm-0 pr-4 mr-3 m-b-10">Responsive</a>
                                        <a href="javascript:void()" class="btn btn-outline-dark btn-rounded pl-4 my-3 my-sm-0 pr-4 mr-3 m-b-10">Crypto</a>
                                    </div>
                                    <br />
                                    <div class="profile-personal-info">
                                        <h4 class="text-primary mb-4">Yazar Bilgileri</h4>

                                        <div class="row mb-4">
                                            <div class="col-3">
                                                <h5 class="f-w-500">Adınız <span class="pull-right">:</span></h5>
                                            </div>
                                            <div class="col-9">
                                                <span>@ViewBag.name</span>
                                            </div>
                                        </div>

                                        <div class="row mb-4">
                                            <div class="col-3">
                                                <h5 class="f-w-500">Soyadınız <span class="pull-right">:</span></h5>
                                            </div>
                                            <div class="col-9">
                                                <span>@ViewBag.surname</span>
                                            </div>
                                        </div>

                                        <div class="row mb-4">
                                            <div class="col-3">
                                                <h5 class="f-w-500">Kullanıcı Adınız <span class="pull-right">:</span></h5>
                                            </div>
                                            <div class="col-9">
                                                <span>@ViewBag.username</span>
                                            </div>
                                        </div>

                                        <div class="row mb-4">
                                            <div class="col-3">
                                                <h5 class="f-w-500">Email Adresiniz <span class="pull-right">:</span></h5>
                                            </div>
                                            <div class="col-9">
                                                <span>@ViewBag.email</span>
                                            </div>
                                        </div>

                                        <div class="row mb-4">
                                            <div class="col-3">
                                                <h5 class="f-w-500">Hakkınızda <span class="pull-right">:</span></h5>
                                            </div>
                                            <div class="col-9">
                                                <span>@ViewBag.description</span>
                                            </div>
                                        </div>

                                        <div class="row mb-4">
                                            <div class="col-3">
                                                <h5 class="f-w-500">Şifreniz <span class="pull-right">:</span></h5>
                                            </div>
                                            <div class="col-9">
                                                <span>********</span>
                                            </div>
                                        </div>
                                    </div>


                                </div>

                                <!--ViewComponent ProfileManagamentByLoggenInAuthor (3 blog) -->
                                <div id="profile-settings" class="tab-pane fade">
                                    <div class="pt-3">
                                        <div class="settings-form">
                                            <h4 class="text-primary">Account Setting</h4>
                                            <form>
                                                <div class="form-row">
                                                    <div class="form-group col-md-6">
                                                        <label>Adınız</label>
                                                        <input type="text" placeholder="Adınızı giriniz" class="form-control">
                                                    </div>
                                                    <div class="form-group col-md-6">
                                                        <label>Soyadınız</label>
                                                        <input type="text" placeholder="Soyadınızı giriniz" class="form-control">
                                                    </div>
                                                </div>

                                                <div class="form-group">
                                                    <label>Hakkınızda Bilgi</label>
                                                    <textarea class="form-control" placeholder="Hakkınızda kısa bir açıklama giriniz" rows="3"></textarea>
                                                </div>

                                                <div class="form-group">
                                                    <label>Kullanıcı Adınız</label>
                                                    <input type="text" placeholder="Kullanıcı adınızı giriniz" class="form-control">
                                                </div>

                                                <div class="form-group">
                                                    <label>Email Adresiniz</label>
                                                    <input type="email" placeholder="Email adresinizi giriniz" class="form-control">
                                                </div>

                                                <div class="form-group">
                                                    <label>Şifreniz</label>
                                                    <input type="password" placeholder="Şifrenizi giriniz" class="form-control">
                                                </div>

                                                <button class="btn btn-primary" type="submit">Kaydet</button>
                                            </form>
                                        </div>
                                    </div>
                                </div>


                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<script>
    document.getElementById("add-post").addEventListener("click", function () {
        let title = document.getElementById("post-title").value;
        let content = document.getElementById("post-content").value;
        let imageInput = document.getElementById("post-image");
        let imageUrl = imageInput.files.length > 0 ? URL.createObjectURL(imageInput.files[0]) : "";

        if (title && content) {
            let postHtml = `
                    <div class="profile-uoloaded-post border-bottom-1 pb-5 mt-4">
                        ${imageUrl ? `<img src="${imageUrl}" alt="" class="img-fluid mb-3">` : ""}
                        <a class="post-title" href="javascript:void()">
                            <h4>${title}</h4>
                        </a>
                        <p>${content}</p>
                        <button class="btn btn-primary mr-3">
                            <span class="mr-3"><i class="fa fa-heart"></i></span>Like
                        </button>
                        <button class="btn btn-secondary">
                            <span class="mr-3"><i class="fa fa-reply"></i></span>Reply
                        </button>
                    </div>
                `;
            document.getElementById("post-list").insertAdjacentHTML("afterbegin", postHtml);

            // Form temizleme
            document.getElementById("post-title").value = "";
            document.getElementById("post-content").value = "";
            document.getElementById("post-image").value = "";
        } else {
            alert("Lütfen başlık ve içerik giriniz.");
        }
    });
</script>